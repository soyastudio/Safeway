BROKER SCHEMA com.abs.uca.cfms

CREATE COMPUTE MODULE ESED_CFMS_CMM_Transformer_Compute

	-- Declare UDPs
	DECLARE SYSTEM_ENVIRONMENT_CODE EXTERNAL CHARACTER 'PROD';
	DECLARE VERSION_ID EXTERNAL CHARACTER '3.1.4.023';

	-- Declare Namespace
	DECLARE Abs NAMESPACE 'https://collab.safeway.com/it/architecture/info/default.aspx';

	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		-- Declare Input Message Root
		DECLARE _inputRootNode REFERENCE TO InputRoot.JSON.Data;

		-- Declare Output Message Root
		CREATE LASTCHILD OF OutputRoot DOMAIN 'XMLNSC';

		DECLARE GetCustomerPreferences_ REFERENCE TO OutputRoot.XMLNSC.GetCustomerPreferences;
		CREATE LASTCHILD OF OutputRoot.XMLNSC AS GetCustomerPreferences_ TYPE XMLNSC.Folder NAME 'GetCustomerPreferences';
		SET OutputRoot.XMLNSC.GetCustomerPreferences.(XMLNSC.NamespaceDecl)xmlns:Abs=Abs;

			-- FOLDER: GetCustomerPreferences/DocumentData
			DECLARE DocumentData_ REFERENCE TO GetCustomerPreferences_;
			CREATE LASTCHILD OF GetCustomerPreferences_ AS DocumentData_ TYPE XMLNSC.Folder NAME 'DocumentData';

				-- FOLDER: GetCustomerPreferences/DocumentData/Document
				DECLARE Document_ REFERENCE TO DocumentData_;
				CREATE LASTCHILD OF DocumentData_ AS Document_ TYPE XMLNSC.Folder NAME 'Document';

					-- ATTRIBUTE: GetCustomerPreferences/DocumentData/Document/@VersionId
					SET Document_.(XMLNSC.Attribute)VersionId = VERSION_ID;

					-- ATTRIBUTE: GetCustomerPreferences/DocumentData/Document/@SystemEnvironmentCd
					SET Document_.(XMLNSC.Attribute)SystemEnvironmentCd = SYSTEM_ENVIRONMENT_CODE;

					-- FIELD: GetCustomerPreferences/DocumentData/Document/DocumentID
					SET Document_.(XMLNSC.Field)Abs:DocumentID = 'CUSTOMER_PREFERENCES_MANAGEMENT';

					-- FIELD: GetCustomerPreferences/DocumentData/Document/AlternateDocumentID
					SET Document_.(XMLNSC.Field)Abs:AlternateDocumentID = 'IAUC_C02.cfms.aggregate-' || CAST(CURRENT_TIMESTAMP AS CHARACTER FORMAT 'YYYYMMddHHmmssSSSSSS');

					-- FIELD: GetCustomerPreferences/DocumentData/Document/InboundOutboundInd
					SET Document_.(XMLNSC.Field)Abs:InboundOutboundInd = 'Outbound from Albertsons';

					-- FIELD: GetCustomerPreferences/DocumentData/Document/DocumentNm
					SET Document_.(XMLNSC.Field)Abs:DocumentNm = 'GetCustomerPreference';

					-- FIELD: GetCustomerPreferences/DocumentData/Document/CreationDt
					SET Document_.(XMLNSC.Field)Abs:CreationDt = CURRENT_TIMESTAMP;

					-- FIELD: GetCustomerPreferences/DocumentData/Document/Description
					SET Document_.(XMLNSC.Field)Abs:Description = 'Retail customer''s generic preferences and the subscriptions';

					-- FIELD: GetCustomerPreferences/DocumentData/Document/SourceApplicationCd
					SET Document_.(XMLNSC.Field)Abs:SourceApplicationCd = 'CFMS';

					-- FIELD: GetCustomerPreferences/DocumentData/Document/TargetApplicationCd
					SET Document_.(XMLNSC.Field)Abs:TargetApplicationCd = 'EDIS';

					-- FIELD: GetCustomerPreferences/DocumentData/Document/InternalFileTransferInd
					SET Document_.(XMLNSC.Field)Abs:InternalFileTransferInd = 'Y';

					-- FOLDER: GetCustomerPreferences/DocumentData/Document/DataClassification
					DECLARE DataClassification_ REFERENCE TO Document_;
					CREATE LASTCHILD OF Document_ AS DataClassification_ TYPE XMLNSC.Folder NAME 'Abs:DataClassification';

						-- FOLDER: GetCustomerPreferences/DocumentData/Document/DataClassification/DataClassificationLevel
						DECLARE DataClassificationLevel_ REFERENCE TO DataClassification_;
						CREATE LASTCHILD OF DataClassification_ AS DataClassificationLevel_ TYPE XMLNSC.Folder NAME 'Abs:DataClassificationLevel';

							-- FIELD: GetCustomerPreferences/DocumentData/Document/DataClassification/DataClassificationLevel/Code
							SET DataClassificationLevel_.(XMLNSC.Field)Abs:Code = 'Internal';

						-- FOLDER: GetCustomerPreferences/DocumentData/Document/DataClassification/BusinessSensitivityLevel
						DECLARE BusinessSensitivityLevel_ REFERENCE TO DataClassification_;
						CREATE LASTCHILD OF DataClassification_ AS BusinessSensitivityLevel_ TYPE XMLNSC.Folder NAME 'Abs:BusinessSensitivityLevel';

							-- FIELD: GetCustomerPreferences/DocumentData/Document/DataClassification/BusinessSensitivityLevel/Code
							SET BusinessSensitivityLevel_.(XMLNSC.Field)Abs:Code = 'Low';

						-- FIELD: GetCustomerPreferences/DocumentData/Document/DataClassification/PHIdataInd
						SET DataClassification_.(XMLNSC.Field)Abs:PHIdataInd = 'N';

						-- FIELD: GetCustomerPreferences/DocumentData/Document/DataClassification/PCIdataInd
						SET DataClassification_.(XMLNSC.Field)Abs:PCIdataInd = 'N';

						-- FIELD: GetCustomerPreferences/DocumentData/Document/DataClassification/PIIdataInd
						SET DataClassification_.(XMLNSC.Field)Abs:PIIdataInd = 'N';

				-- FOLDER: GetCustomerPreferences/DocumentData/DocumentAction
				DECLARE DocumentAction_ REFERENCE TO DocumentData_;
				CREATE LASTCHILD OF DocumentData_ AS DocumentAction_ TYPE XMLNSC.Folder NAME 'DocumentAction';

					-- FIELD: GetCustomerPreferences/DocumentData/DocumentAction/ActionTypeCd
					SET DocumentAction_.(XMLNSC.Field)Abs:ActionTypeCd = 'UPDATE';

					-- FIELD: GetCustomerPreferences/DocumentData/DocumentAction/RecordTypeCd
					SET DocumentAction_.(XMLNSC.Field)Abs:RecordTypeCd = 'CHANGE';

			-- FOLDER: GetCustomerPreferences/CustomerPreferencesData
			DECLARE CustomerPreferencesData_ REFERENCE TO GetCustomerPreferences_;
			CREATE LASTCHILD OF GetCustomerPreferences_ AS CustomerPreferencesData_ TYPE XMLNSC.Folder NAME 'CustomerPreferencesData';

				-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerId
				SET CustomerPreferencesData_.(XMLNSC.Field)Abs:CustomerId = _inputRootNode.aggregateId;

				-- LOOP FROM $.state.preferences[*] TO GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences:
				DECLARE _lpv0 REFERENCE TO _inputRootNode.state.preferences.Item;
				loop_lpv0 : WHILE LASTMOVE(_lpv0) DO

					-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences
					DECLARE CustomerPreferences_ REFERENCE TO CustomerPreferencesData_;
					CREATE LASTCHILD OF CustomerPreferencesData_ AS CustomerPreferences_ TYPE XMLNSC.Folder NAME 'Abs:CustomerPreferences';

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceClassNm
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferenceClassNm = _lpv0._class;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferenceCd = _lpv0.preferenceId;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceTypeCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferenceTypeCd = _lpv0.type;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceVal
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferenceVal = _lpv0.value;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceCategoryCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferenceCategoryCd = _lpv0.categoryCode;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceSubCategoryCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferenceSubCategoryCd = _lpv0.subCategoryCode;

						-- LOOP FROM _lpv0.optchoices[*] TO GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/OptChoice:
						DECLARE _lpv1 REFERENCE TO _lpv0.optchoices.Item;
						loop_lpv1 : WHILE LASTMOVE(_lpv1) DO

							-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/OptChoice
							DECLARE OptChoice_ REFERENCE TO CustomerPreferences_;
							CREATE LASTCHILD OF CustomerPreferences_ AS OptChoice_ TYPE XMLNSC.Folder NAME 'Abs:OptChoice';

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/OptChoice/ChoiceDsc
								SET OptChoice_.(XMLNSC.Field)Abs:ChoiceDsc = _lpv1.choice;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/OptChoice/ReasonCd
								SET OptChoice_.(XMLNSC.Field)Abs:ReasonCd = _lpv1.reasonCode;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/OptChoice/ReasonDsc
								SET OptChoice_.(XMLNSC.Field)Abs:ReasonDsc = _lpv1.reasonText;

						MOVE _lpv1 NEXTSIBLING;
						END WHILE loop_lpv1;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/BannerCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:BannerCd = _lpv0.bannerId;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferredInd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PreferredInd = _lpv0.preferredInd;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/ChannelTypCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:ChannelTypCd = _lpv0.channel.type;

						-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PlatformTypCd
						SET CustomerPreferences_.(XMLNSC.Field)Abs:PlatformTypCd = _lpv0.platform.type;

						-- LOOP FROM _lpv0.effectiveTimePeriods[*] TO GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod:
						DECLARE _lpv2 REFERENCE TO _lpv0.effectiveTimePeriods.Item;
						loop_lpv2 : WHILE LASTMOVE(_lpv2) DO

							-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod
							DECLARE PreferenceEffectivePeriod_ REFERENCE TO CustomerPreferences_;
							CREATE LASTCHILD OF CustomerPreferences_ AS PreferenceEffectivePeriod_ TYPE XMLNSC.Folder NAME 'Abs:PreferenceEffectivePeriod';

								-- ATTRIBUTE: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/@typeCode
								SET PreferenceEffectivePeriod_.(XMLNSC.Attribute)Abs:typeCode = _lpv2.type;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/FirstEffectiveDt
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:FirstEffectiveDt = _lpv2.startDate;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/FirstEffectiveTm
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:FirstEffectiveTm = _lpv2.startTime;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/LastEffectiveDt
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:LastEffectiveDt = _lpv2.endDate;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/LastEffectiveTm
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:LastEffectiveTm = _lpv2.endTime;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/DurationNbr
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:DurationNbr = _lpv2.duration;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/DurationUnitDsc
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:DurationUnitDsc = _lpv2.duration;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/PreferenceEffectivePeriod/InclusiveInd
								SET PreferenceEffectivePeriod_.(XMLNSC.Field)Abs:InclusiveInd = _lpv2.inclusiveInd;

						MOVE _lpv2 NEXTSIBLING;
						END WHILE loop_lpv2;

						-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions
						DECLARE CustomerSubscriptions_ REFERENCE TO CustomerPreferences_;
						CREATE LASTCHILD OF CustomerPreferences_ AS CustomerSubscriptions_ TYPE XMLNSC.Folder NAME 'Abs:CustomerSubscriptions';

							-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/SubscriptionId
							SET CustomerSubscriptions_.(XMLNSC.Field)Abs:SubscriptionId = _lpv0.value;

							-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/SubscriptionCd
							SET CustomerSubscriptions_.(XMLNSC.Field)Abs:SubscriptionCd = _lpv0.subCategoryCode;

							-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/SubscriptionTypeCd
							SET CustomerSubscriptions_.(XMLNSC.Field)Abs:SubscriptionTypeCd = _lpv0.type;

							-- LOOP FROM _lpv0.optchoices[*] TO GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/OptChoice:
							DECLARE _lpv3 REFERENCE TO _lpv0.optchoices.Item;
							loop_lpv3 : WHILE LASTMOVE(_lpv3) DO

								-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/OptChoice
								DECLARE OptChoice1_ REFERENCE TO CustomerSubscriptions_;
								CREATE LASTCHILD OF CustomerSubscriptions_ AS OptChoice1_ TYPE XMLNSC.Folder NAME 'Abs:OptChoice';

									-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/OptChoice/ChoiceDsc
									SET OptChoice1_.(XMLNSC.Field)Abs:ChoiceDsc = _lpv3.choice;

									-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/OptChoice/ReasonCd
									SET OptChoice1_.(XMLNSC.Field)Abs:ReasonCd = _lpv3.reasonCode;

									-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/OptChoice/ReasonDsc
									SET OptChoice1_.(XMLNSC.Field)Abs:ReasonDsc = _lpv3.reasonText;

							MOVE _lpv3 NEXTSIBLING;
							END WHILE loop_lpv3;

							-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription
							DECLARE DeliverySubscription_ REFERENCE TO CustomerSubscriptions_;
							CREATE LASTCHILD OF CustomerSubscriptions_ AS DeliverySubscription_ TYPE XMLNSC.Folder NAME 'Abs:DeliverySubscription';

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/ServiceFeeWaivedInd
								SET DeliverySubscription_.(XMLNSC.Field)Abs:ServiceFeeWaivedInd = _lpv0.deliverySubscriptionOffer.serviceFeeWaived;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/DeliveryFeeWaivedInd
								SET DeliverySubscription_.(XMLNSC.Field)Abs:DeliveryFeeWaivedInd = _lpv0.deliverySubscriptionOffer.deliveryFeeWaived;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/FuelSurchargeWaivedInd
								SET DeliverySubscription_.(XMLNSC.Field)Abs:FuelSurchargeWaivedInd = _lpv0.deliverySubscriptionOffer.fuelSurchargeWaived;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/MinimumBasketSizeQty
								SET DeliverySubscription_.(XMLNSC.Field)Abs:MinimumBasketSizeQty = _lpv0.deliverySubscriptionOffer.minBasketSize;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/AutoRenewInd
								SET DeliverySubscription_.(XMLNSC.Field)Abs:AutoRenewInd = _lpv0.autoRenew;

								-- FIELD: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/AutoEnrollInd
								SET DeliverySubscription_.(XMLNSC.Field)Abs:AutoEnrollInd = _lpv0.autoEnroll;

								-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/Fee
								DECLARE Fee_ REFERENCE TO DeliverySubscription_;
								CREATE LASTCHILD OF DeliverySubscription_ AS Fee_ TYPE XMLNSC.Folder NAME 'Abs:Fee';

									-- ATTRIBUTE: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/Fee/@CurrencyCd

									-- ATTRIBUTE: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/Fee/@FeeAmt

								-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/InitialOrderAmountOff
								DECLARE InitialOrderAmountOff_ REFERENCE TO DeliverySubscription_;
								CREATE LASTCHILD OF DeliverySubscription_ AS InitialOrderAmountOff_ TYPE XMLNSC.Folder NAME 'Abs:InitialOrderAmountOff';

									-- ATTRIBUTE: GetCustomerPreferences/CustomerPreferencesData/CustomerPreferences/CustomerSubscriptions/DeliverySubscription/InitialOrderAmountOff/@CurrencyCd
									SET InitialOrderAmountOff_.(XMLNSC.Attribute)CurrencyCd = _inputRootNode.state.preferences.deliverySubscriptionOffer.initialOrderAmountOff.currency;

				MOVE _lpv0 NEXTSIBLING;
				END WHILE loop_lpv0;

				-- FOLDER: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData
				DECLARE SourceAuditData_ REFERENCE TO CustomerPreferencesData_;
				CREATE LASTCHILD OF CustomerPreferencesData_ AS SourceAuditData_ TYPE XMLNSC.Folder NAME 'Abs:SourceAuditData';

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/SourceNm
					SET SourceAuditData_.(XMLNSC.Field)Abs:SourceNm = _inputRootNode.aggregateType;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/CreateTs
					SET SourceAuditData_.(XMLNSC.Field)Abs:CreateTs = _inputRootNode.state.createTimestamp;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/LastUpdateTs
					SET SourceAuditData_.(XMLNSC.Field)Abs:LastUpdateTs = _inputRootNode.state.lastUpdateTimestamp;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/CreateClientId
					SET SourceAuditData_.(XMLNSC.Field)Abs:CreateClientId = _inputRootNode.state.createClientId;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/CreateUserId
					SET SourceAuditData_.(XMLNSC.Field)Abs:CreateUserId = _inputRootNode.state.createUserId;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/LastUpdateClientId
					SET SourceAuditData_.(XMLNSC.Field)Abs:LastUpdateClientId = _inputRootNode.state.lastUpdateClientId;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/LastUpdateUserId
					SET SourceAuditData_.(XMLNSC.Field)Abs:LastUpdateUserId = _inputRootNode.state.lastUpdateUserId;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/CreateHostNm
					SET SourceAuditData_.(XMLNSC.Field)Abs:CreateHostNm = _inputRootNode.state.createHostName;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/LastUpdateHostNm
					SET SourceAuditData_.(XMLNSC.Field)Abs:LastUpdateHostNm = _inputRootNode.state.lastUpdateHostName;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/SequenceNbr
					SET SourceAuditData_.(XMLNSC.Field)Abs:SequenceNbr = _inputRootNode.state.sequenceNumber;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/AggregateTs
					SET SourceAuditData_.(XMLNSC.Field)Abs:AggregateTs = _inputRootNode.state.timestamp;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/AggregateRevisionNbr
					SET SourceAuditData_.(XMLNSC.Field)Abs:AggregateRevisionNbr = _inputRootNode.state.aggregateRevision;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/PayloadVersionNbr
					SET SourceAuditData_.(XMLNSC.Field)Abs:PayloadVersionNbr = _inputRootNode.state.version;

					-- FIELD: GetCustomerPreferences/CustomerPreferencesData/SourceAuditData/EventId
					SET SourceAuditData_.(XMLNSC.Field)Abs:EventId = _inputRootNode.state.eventId;

		RETURN TRUE;
	END;

END MODULE;
